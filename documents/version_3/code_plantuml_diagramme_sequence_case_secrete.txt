
@startuml

activate Jeu

alt if type != mur || (type == porte && estOuverte)
    Jeu -> Joueur : deplacer(int x, int y)
    activate Joueur
    Joueur --> Jeu
    deactivate Joueur
    alt if type == effet
    Jeu -> Labyrinthe : getCase(int x, int y)
    activate Labyrinthe
    Labyrinthe -> CaseAEffet : activerEffet(Entite e)
    activate CaseAEffet
    CaseAEffet -> CaseSecrete : activerEffet(Entite e)
    activate CaseSecrete
    CaseSecrete -> Porte : ouvrirPorte()
    activate Porte
    Porte --> CaseSecrete
    deactivate Porte
    CaseSecrete --> CaseAEffet
    deactivate CaseSecrete
    CaseAEffet --> Labyrinthe
    deactivate CaseAEffet
    Labyrinthe --> Jeu
    deactivate Labyrinthe
end
end

deactivate Jeu

@enduml