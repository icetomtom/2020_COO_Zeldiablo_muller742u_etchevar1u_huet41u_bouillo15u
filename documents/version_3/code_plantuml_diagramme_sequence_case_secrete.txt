@startuml

activate Jeu

alt si la case est traversable
    Jeu -> Joueur : deplacer(int x, int y)
    activate Joueur
    Joueur --> Jeu
    deactivate Joueur
    alt si la case a un effet
        Jeu -> Labyrinthe : getCase(int x, int y)
        activate Labyrinthe
        Labyrinthe -> CaseAEffet : activerEffet(Entite e)
        activate CaseAEffet
        CaseAEffet -> CaseSecrete : activerEffet(Entite e)
        activate CaseSecrete
        CaseSecrete -> Porte : ouvrirPorte()
        activate Porte
        Porte --> CaseSecrete
        deactivate Porte
        CaseSecrete --> CaseAEffet
        deactivate CaseSecrete
        CaseAEffet --> Labyrinthe
        deactivate CaseAEffet
        Labyrinthe --> Jeu
        deactivate Labyrinthe
    end
end

deactivate Jeu

@enduml
